<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1907px" preserveAspectRatio="none" style="width:1338px;height:1907px;background:#FFFFFF;" version="1.1" viewBox="0 0 1338 1907" width="1338px" zoomAndPan="magnify"><title>Dependency Inversion with Generics - Data Flow vs Code Dependency Flow</title><defs/><g><g class="title" data-source-line="12"><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="504.8955" x="409.5522" y="23.1318">Dependency Inversion with Generics - Data Flow vs Code Dependency Flow</text></g><!--cluster Bad--><g class="cluster" data-entity="Bad" data-source-line="15" data-uid="ent0002" id="cluster_Bad"><rect fill="none" height="1087.85" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="494" x="7" y="44.0986"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="241.4756" x="133.2622" y="59.2305">&#10060; WITHOUT Dependency Inversion</text></g><!--cluster HighBad--><g class="cluster" data-entity="HighBad" data-source-line="17" data-uid="ent0003" id="cluster_HighBad"><rect fill="#F44336" height="129.09" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="154" x="47" y="243.5686"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="124.4482" x="61.7759" y="258.7005">High-Level Module</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112.793" x="67.6035" y="274.7991">(Business Logic)</text></g><!--cluster LowBad--><g class="cluster" data-entity="LowBad" data-source-line="21" data-uid="ent0005" id="cluster_LowBad"><rect fill="#F44336" height="481.27" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="294" x="47" y="610.6786"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.3379" x="133.3311" y="625.8105">Low-Level Module</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77.793" x="155.1035" y="641.9091">(I/O Details)</text></g><!--cluster Good--><g class="cluster" data-entity="Good" data-source-line="39" data-uid="ent0013" id="cluster_Good"><rect fill="none" height="1527.08" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="791" x="541" y="44.0986"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="285.0615" x="793.9692" y="59.2305">&#9989; WITH Dependency Inversion (Generics)</text></g><!--cluster HighGood--><g class="cluster" data-entity="HighGood" data-source-line="41" data-uid="ent0014" id="cluster_HighGood"><rect fill="#2196F3" height="311.59" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="384" x="580" y="134.8186"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="124.4482" x="709.7759" y="149.9505">High-Level Module</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="139.2549" x="702.3726" y="166.0491">(Application Service)</text></g><!--cluster ServiceSpec--><g class="cluster" data-entity="ServiceSpec" data-source-line="42" data-uid="ent0015" id="cluster_ServiceSpec"><rect fill="#2196F3" height="212.59" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="320" x="612" y="201.8186"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136.1582" x="703.9209" y="216.9505">Create_Greeting.API</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="65.3721" x="739.314" y="233.0491">&#171;generic&#187;</text></g><!--cluster Port--><g class="cluster" data-entity="Port" data-source-line="56" data-uid="ent0019" id="cluster_Port"><rect fill="#9C27B0" height="296.64" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="412" x="573" y="509.4086"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77.7861" x="740.1069" y="524.5405">Abstraction</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105.7793" x="726.1104" y="540.6391">(Port Signature)</text></g><!--cluster PortSpec--><g class="cluster" data-entity="PortSpec" data-source-line="57" data-uid="ent0020" id="cluster_PortSpec"><rect fill="#9C27B0" height="197.64" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="348" x="605" y="576.4086"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73.0967" x="742.4517" y="591.5405">Output.API</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="132.2754" x="712.8623" y="607.6391">&#171;generic signature&#187;</text></g><!--cluster LowGood--><g class="cluster" data-entity="LowGood" data-source-line="70" data-uid="ent0024" id="cluster_LowGood"><rect fill="#FF9800" height="281.69" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="383" x="573" y="869.0486"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.3379" x="703.8311" y="884.1805">Low-Level Module</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="157.1309" x="685.9346" y="900.2791">(Infrastructure Adapter)</text></g><!--cluster ConsoleImpl--><g class="cluster" data-entity="ConsoleImpl" data-source-line="71" data-uid="ent0025" id="cluster_ConsoleImpl"><rect fill="#FF9800" height="182.69" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="319" x="605" y="936.0486"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108.8828" x="710.0586" y="951.1805">Console_Output</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="119.834" x="704.583" y="967.2791">&#171;generic adapter&#187;</text></g><!--cluster Bootstrap--><g class="cluster" data-entity="Bootstrap" data-source-line="83" data-uid="ent0029" id="cluster_Bootstrap"><rect fill="#E3F2FD" height="324.44" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="444" x="581" y="1206.7386"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="121.3105" x="742.3447" y="1221.8705">Composition Root</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="75.4346" x="765.2827" y="1237.9691">(Bootstrap)</text></g><!--cluster MainProc--><g class="cluster" data-entity="MainProc" data-source-line="84" data-uid="ent0030" id="cluster_MainProc"><rect fill="#E3F2FD" height="225.44" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="372" x="613" y="1273.7386"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60.6689" x="768.6655" y="1288.8705">Main.adb</text></g><g class="entity" data-entity="GMN10" data-source-line="30" data-uid="ent0011" id="entity_GMN10"><path d="M228.68,283.2386 L228.68,367.9823 L477.3133,367.9823 L477.3133,293.2386 L467.3133,283.2386 L228.68,283.2386" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M467.3133,283.2386 L467.3133,293.2386 L477.3133,293.2386 L467.3133,283.2386" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="17" x="234.68" y="300.4325">&#10060;</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="56.3418" x="255.2918" y="300.4325">Problem:</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="227.6333" x="234.68" y="315.3812">- Service depends on concrete Console</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="165.4644" x="234.68" y="330.3299">- Cannot test without real I/O</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="182.0889" x="234.68" y="345.2787">- Cannot swap implementations</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="200.8843" x="234.68" y="360.2274">- High-level logic coupled to details</text></g><!--entity Service--><g class="entity" data-entity="Service" data-source-line="18" data-uid="ent0004" id="entity_Service"><rect fill="#F1F1F1" height="46.0986" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86.6826" x="70.66" y="302.5686"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="137.3426" y="307.5686"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="135.3426" y="309.5686"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="135.3426" y="313.5686"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="85.66" y="335.7005">Service</text></g><!--entity Console--><g class="entity" data-entity="Console" data-source-line="22" data-uid="ent0006" id="entity_Console"><rect fill="#F1F1F1" height="46.0986" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.3652" x="71.32" y="669.6786"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="142.6852" y="674.6786"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="140.6852" y="676.6786"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="140.6852" y="680.6786"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="51.3652" x="86.32" y="702.8105">Console</text></g><!--entity Database--><g class="entity" data-entity="Database" data-source-line="23" data-uid="ent0007" id="entity_Database"><rect fill="#F1F1F1" height="46.0986" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.9307" x="198.03" y="669.6786"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="277.9607" y="674.6786"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="275.9607" y="676.6786"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="275.9607" y="680.6786"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="213.03" y="702.8105">Database</text></g><!--entity HTTP Client--><g class="entity" data-entity="HTTP Client" data-source-line="24" data-uid="ent0008" id="entity_HTTP Client"><rect fill="#F1F1F1" height="46.0986" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.2344" x="70.88" y="1021.8486"/><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="167.1144" y="1026.8486"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="165.1144" y="1028.8486"/><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="165.1144" y="1032.8486"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="76.2344" x="85.88" y="1054.9805">HTTP Client</text></g><g class="entity" data-entity="GMN43" data-source-line="110" data-uid="ent0044" id="entity_GMN43"><path d="M1037.54,665.3086 L1037.54,720.1548 L1308.4536,720.1548 L1308.4536,675.3086 L1298.4536,665.3086 L1037.54,665.3086" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1298.4536,665.3086 L1298.4536,675.3086 L1308.4536,675.3086 L1298.4536,665.3086" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="249.9136" x="1043.54" y="682.5025">Abstraction owned by high-level module</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="181.3906" x="1043.54" y="697.4512">Defines what Application needs</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="158.939" x="1043.54" y="712.3999">Infrastructure must conform</text></g><g class="entity" data-entity="GMN46" data-source-line="116" data-uid="ent0047" id="entity_GMN46"><path d="M1010.29,275.7686 L1010.29,375.461 L1277.706,375.461 L1277.706,285.7686 L1267.706,275.7686 L1010.29,275.7686" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1267.706,275.7686 L1267.706,285.7686 L1277.706,285.7686 L1267.706,275.7686" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="17" x="1016.29" y="292.9625">&#9989;</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55.6182" x="1036.9018" y="292.9625">Benefits:</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="246.416" x="1016.29" y="307.9112">- Service only knows about Send signature</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="184.2534" x="1016.29" y="322.8599">- Console conforms to signature</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="241.376" x="1016.29" y="337.8087">- Swap adapters by changing instantiation</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="142.3271" x="1016.29" y="352.7574">- Test with mock adapter</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="201.6206" x="1016.29" y="367.7061">- Business logic independent of I/O</text></g><g class="entity" data-entity="GMN16" data-source-line="44" data-uid="ent0017" id="entity_GMN16"><path d="M635.59,260.8186 L635.59,390.4085 L888.4128,390.4085 L888.4128,270.8186 L878.4128,260.8186 L635.59,260.8186" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M878.4128,260.8186 L878.4128,270.8186 L888.4128,270.8186 L878.4128,260.8186" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="42.6372" x="641.59" y="278.0125">generic</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="146.6753" x="648.8136" y="292.9612">type App_Error is private;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="204.4834" x="648.8136" y="307.9099">with package R is new Result_Port;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="641.59" y="322.8587">&#160;&#160;</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="224.5991" x="648.8136" y="322.8587">with function Send(...) return Result;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="203.7598" x="648.8136" y="337.8074">with package Name_Ops is new ...;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="86.7153" x="641.59" y="352.7561">package API is</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="190.7407" x="648.8136" y="367.7049">function Run (...) return R.Result;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="49.8672" x="641.59" y="382.6536">end API;</text></g><g class="entity" data-entity="GMN21" data-source-line="59" data-uid="ent0022" id="entity_GMN21"><path d="M628.51,635.4086 L628.51,750.0497 L909.4973,750.0497 L909.4973,645.4086 L899.4973,635.4086 L628.51,635.4086" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M899.4973,635.4086 L899.4973,645.4086 L909.4973,645.4086 L899.4973,635.4086" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="42.6372" x="634.51" y="652.6025">generic</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="146.6753" x="641.7336" y="667.5512">type App_Error is private;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="204.4834" x="641.7336" y="682.4999">with package R is new Result_Port;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="634.51" y="697.4487">&#160;&#160;</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="252.7637" x="641.7336" y="697.4487">with function Send(Msg) return R.Result;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="86.7153" x="634.51" y="712.3974">package API is</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="183.5234" x="641.7336" y="727.3461">-- Empty body! Just a signature.</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="49.8672" x="634.51" y="742.2949">end API;</text></g><g class="entity" data-entity="GMN26" data-source-line="73" data-uid="ent0027" id="entity_GMN26"><path d="M629.31,995.0486 L629.31,1094.741 L880.6918,1094.741 L880.6918,1005.0486 L870.6918,995.0486 L629.31,995.0486" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M870.6918,995.0486 L870.6918,1005.0486 L880.6918,1005.0486 L870.6918,995.0486" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="42.6372" x="635.31" y="1012.2425">generic</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="146.6753" x="642.5336" y="1027.1912">type App_Error is private;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="204.4834" x="642.5336" y="1042.1399">with package R is new Result_Port;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="159.7134" x="635.31" y="1057.0887">package Console_Output is</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="7.2236" x="635.31" y="1072.0374">&#160;&#160;</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="223.1582" x="642.5336" y="1072.0374">function Send(Msg) return R.Result;</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="78.0635" x="635.31" y="1086.9861">end package;</text></g><g class="entity" data-entity="GMN31" data-source-line="86" data-uid="ent0032" id="entity_GMN31"><path d="M628.81,1308.7386 L628.81,1483.1747 L969.1923,1483.1747 L969.1923,1318.7386 L959.1923,1308.7386 L628.81,1308.7386" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M959.1923,1308.7386 L959.1923,1318.7386 L969.1923,1318.7386 L959.1923,1308.7386" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="134.3672" x="634.81" y="1325.9325">1. Instantiate adapter:</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="266.665" x="634.81" y="1340.8812">package Console_Out is new Console_Output</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="312.1587" x="642.0336" y="1355.8299">(App_Error =&gt; App_Error, R =&gt; App_Result.Instance);</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="634.81" y="1370.7787">&#160;</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="143" x="634.81" y="1385.7274">2. Bind adapter to port:</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="230.5215" x="634.81" y="1400.6761">package Output_Port is new Output.API</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="174.8906" x="642.0336" y="1415.6249">(Send =&gt; Console_Out.Send);</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="3.6118" x="634.81" y="1430.5736">&#160;</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128.6035" x="634.81" y="1445.5223">3. Inject into service:</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="317.9478" x="634.81" y="1460.4711">package Greeting_Service is new Create_Greeting.API</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="192.9307" x="642.0336" y="1475.4198">(Output_Port =&gt; Output_Port, ...);</text></g><!--link HighBad to LowBad--><g class="link" data-entity-1="HighBad" data-entity-2="LowBad" data-source-line="27" data-uid="lnk9" id="link_HighBad_LowBad"><path d="M182.7874,373.0651 C182.7402,373.467 182.694,373.8703 182.6488,374.2749 C179.755,400.1686 180.975,431.4836 197,454.4086 C229.11,500.3386 280.35,456.5986 314,501.4086 C339.125,534.8636 344.12,581.4911 342.7138,620.2199 C342.538,625.061 342.2622,629.7787 341.9132,634.3318 C341.7387,636.6083 341.5459,638.8437 341.3381,641.0328 C341.2342,642.1274 341.7449,637.2423 341.634,638.3131" fill="none" id="HighBad-to-LowBad" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="341.0157,644.2812,345.9218,635.7413,341.5309,639.3078,337.9644,634.9169,341.0157,644.2812" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="130.749" x="306.6" y="475.6025">depends on concrete</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="96.0654" x="323.9418" y="490.5512">implementation</text></g><!--link Bad to GMN10--><g class="link" data-entity-1="Bad" data-entity-2="GMN10" data-source-line="30" data-uid="lnk12" id="link_Bad_GMN10"><path d="M353,72.2286 C353,80.5486 353,213.4586 353,282.9586" fill="none" id="Bad-GMN10" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link GMN10 to GMN16--><g class="link" data-entity-1="GMN10" data-entity-2="GMN16" data-source-line="44" data-uid="lnk18" id="link_GMN10_GMN16"><path d="M477.62,325.6186 C530.2,325.6186 582.78,325.6186 635.36,325.6186" fill="none" id="GMN10-GMN16" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link GMN16 to GMN21--><g class="link" data-entity-1="GMN16" data-entity-2="GMN21" data-source-line="59" data-uid="lnk23" id="link_GMN16_GMN21"><path d="M763.23,390.6286 C764.55,459.7586 766.64,568.8386 767.91,634.9886" fill="none" id="GMN16-GMN21" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link GMN21 to GMN26--><g class="link" data-entity-1="GMN21" data-entity-2="GMN26" data-source-line="73" data-uid="lnk28" id="link_GMN21_GMN26"><path d="M766.74,750.3786 C764.03,818.1286 759.54,930.4086 756.97,994.6886" fill="none" id="GMN21-GMN26" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link GMN26 to GMN31--><g class="link" data-entity-1="GMN26" data-entity-2="GMN31" data-source-line="86" data-uid="lnk33" id="link_GMN26_GMN31"><path d="M761.21,1095.1686 C768.18,1150.4186 779.6,1241.0686 788.07,1308.2486" fill="none" id="GMN26-GMN31" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link ServiceSpec to PortSpec--><g class="link" data-entity-1="ServiceSpec" data-entity-2="PortSpec" data-source-line="102" data-uid="lnk34" id="link_ServiceSpec_PortSpec"><path d="M909.1017,414.8157 C909.0373,415.2946 908.9732,415.774 908.9094,416.2538 C906.8663,431.6086 905.0975,447.4361 904,462.4086 C902.99,476.1486 896.18,482.0686 904,493.4086 C909.67,501.6286 918.91,493.4886 925,501.4086 C950.525,534.5886 955.77,581.2111 954.5138,620.0061 C954.3567,624.8555 954.0981,629.5826 953.7648,634.1458 C953.5982,636.4274 953.4129,638.6681 953.2123,640.8626 C953.1621,641.4112 953.6833,635.9843 953.6313,636.5271" fill="none" id="ServiceSpec-to-PortSpec" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="953.059,642.4997,957.8993,633.9223,953.5359,637.5225,949.9358,633.1592,953.059,642.4997" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77.3145" x="910.04" y="475.6025">generic over</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="87.3945" x="905" y="490.5512">port signature</text></g><!--reverse link PortSpec to ConsoleImpl--><g class="link" data-entity-1="PortSpec" data-entity-2="ConsoleImpl" data-source-line="103" data-uid="lnk36" id="link_PortSpec_ConsoleImpl"><path d="M930.4626,780.0442 C930.3877,780.4986 931.1773,775.7146 931.1028,776.1667 C929.9113,783.4007 928.7837,790.3204 927.7902,796.5282 C925.8031,808.9436 924.3525,818.5111 924,822.0486 C921.5975,846.2111 919.8931,871.9168 918.6888,896.9427 C918.0866,909.4557 917.6094,921.7987 917.2324,933.694 C917.2089,934.4374 917.1857,935.1791 917.1629,935.919" fill="none" id="PortSpec-backto-ConsoleImpl" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="931.4395,774.1242,926.0276,782.3529,930.6255,779.0575,933.9208,783.6554,931.4395,774.1242" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72.2427" x="925" y="835.2425">implements</text><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="58.5127" x="931.865" y="850.1912">signature</text></g><!--reverse link ServiceSpec to Bootstrap--><g class="link" data-entity-1="ServiceSpec" data-entity-2="Bootstrap" data-source-line="105" data-uid="lnk38" id="link_ServiceSpec_Bootstrap"><path d="M911.6812,420.8125 C913.914,434.5136 918.535,444.1136 928,454.4086 C948.89,477.1386 976.14,439.6486 997,462.4086 C1010.21,476.8186 997.92,796.7386 1007,814.0486 C1011.1,821.8686 1067.01,853.1786 1071,861.0486 C1130.77,979.0886 1085.84,1027.2686 1071,1158.7386 C1065.055,1211.4136 1051.88,1269.4611 1040.0325,1314.8324 C1037.0706,1326.1752 1034.1917,1336.7257 1031.5295,1346.202 C1030.1984,1350.9401 1028.9214,1355.4097 1027.7154,1359.5755 C1027.1123,1361.6583 1026.527,1363.6652 1025.9615,1365.5918 C1025.6788,1366.5551 1025.401,1367.4983 1025.1284,1368.4208" fill="none" id="ServiceSpec-backto-Bootstrap" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="910.8674,414.868,908.125,424.3273,911.5455,419.8218,916.0511,423.2423,910.8674,414.868" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="65.7617" x="1062.73" y="842.7425">instantiates</text></g><!--reverse link PortSpec to Bootstrap--><g class="link" data-entity-1="PortSpec" data-entity-2="Bootstrap" data-source-line="106" data-uid="lnk40" id="link_PortSpec_Bootstrap"><path d="M954.8275,730.7751 C954.9292,731.1149 953.4704,726.2144 953.5739,726.5578 C953.781,727.2445 953.992,727.9385 954.2068,728.6392 C955.0661,731.4424 955.9873,734.3549 956.9713,737.3536 C964.8425,761.3436 976.725,790.8536 993,814.0486 C996.07,818.4286 999.74,817.1986 1002,822.0486 C1028.635,879.3436 1032.535,1020.7911 1029.7025,1148.7949 C1028.9944,1180.7958 1027.8655,1211.9565 1026.5658,1240.7521 C1026.2409,1247.9509 1025.9053,1255.002 1025.563,1261.8814 C1025.3918,1265.3211 1025.2189,1268.7179 1025.0449,1272.0688" fill="none" id="PortSpec-backto-Bootstrap" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="953.1145,725.0249,951.8506,734.7923,954.542,729.8167,959.5176,732.5082,953.1145,725.0249" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="31.0781" x="1031.48" y="1050.0925">binds</text></g><!--reverse link ConsoleImpl to Bootstrap--><g class="link" data-entity-1="ConsoleImpl" data-entity-2="Bootstrap" data-source-line="107" data-uid="lnk42" id="link_ConsoleImpl_Bootstrap"><path d="M907.8765,1125.0314 C907.9042,1125.4981 907.6438,1120.674 907.6754,1121.1412 C908.1812,1128.6162 909.201,1136.1445 910.9161,1143.4625 C914.3463,1158.0986 920.5575,1171.8936 931,1182.7386 C947.83,1200.2186 967.77,1173.6586 985,1190.7386 C1017.105,1222.5786 1025.3575,1272.5486 1025.46,1315.0886 C1025.4728,1320.4061 1025.3583,1325.6075 1025.1471,1330.6429 C1025.1207,1331.2724 1025.0928,1331.8992 1025.0634,1332.5233 C1025.0487,1332.8354 1025.0337,1333.1468 1025.0183,1333.4575" fill="none" id="ConsoleImpl-backto-Bootstrap" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="907.5466,1119.0405,904.0475,1128.2468,907.8215,1124.0329,912.0354,1127.8069,907.5466,1119.0405" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacing" textLength="65.7617" x="932" y="1179.9325">instantiates</text></g><!--link PortSpec to GMN43--><g class="link" data-entity-1="PortSpec" data-entity-2="GMN43" data-source-line="110" data-uid="lnk45" id="link_PortSpec_GMN43"><path d="M953.3547,692.7286 C953.5943,692.7286 953.8338,692.7286 954.0734,692.7286 C955.0316,692.7286 955.9897,692.7286 956.9479,692.7286 C960.7807,692.7286 964.6136,692.7286 968.4466,692.7286 C976.1125,692.7286 983.7788,692.7286 991.445,692.7286 C1006.7775,692.7286 1022.11,692.7286 1037.44,692.7286" fill="none" id="PortSpec-GMN43" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Good to GMN46--><g class="link" data-entity-1="Good" data-entity-2="GMN46" data-source-line="116" data-uid="lnk48" id="link_Good_GMN46"><path d="M1144,72.2286 C1144,80.2586 1144,204.4386 1144,275.5586" fill="none" id="Good-GMN46" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><g class="legend" data-source-line="126"><rect fill="#DDDDDD" height="299.7754" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="490.1357" x="416.9321" y="1588.1786"/><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="312.7578" x="421.9321" y="1606.3105">Dependency Inversion Principle with Generics:</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="421.9321" y="1622.4091">&#160;</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="178.1309" x="421.9321" y="1638.5077">Traditional OOP approach:</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="335.3779" x="421.9321" y="1654.6064">- Define interface type: `type Output_Port is interface;`</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="340.8125" x="421.9321" y="1670.705">- Service depends on interface (runtime polymorphism)</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="389.8672" x="421.9321" y="1686.8036">- Adapters extend interface: `type Console is new Output_Port`</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="411.1475" x="421.9321" y="1702.9023">- Inject via access-to-class: `Service.Set_Output(Console'Access)`</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="421.9321" y="1719.0009">&#160;</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="131.4893" x="421.9321" y="1735.0995">Generics approach:</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="402.2881" x="421.9321" y="1751.1982">- Define port signature as generic formal: `with function Send(...)`</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="353.2539" x="421.9321" y="1767.2968">- Service is generic over signature (compile-time binding)</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="351.7295" x="421.9321" y="1783.3954">- Adapters provide matching function: `function Send(...)`</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="480.1357" x="421.9321" y="1799.4941">- Inject via instantiation: `package Service is new ... (Send =&gt; Console.Send)`</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="3.8896" x="421.9321" y="1815.5927">&#160;</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80.1172" x="421.9321" y="1831.6913">Key Insight:</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="351.0049" x="421.9321" y="1847.79">Both achieve dependency inversion, but generics do it at</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="86.3516" x="776.8267" y="1847.79">compile-time</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="60.71" x="421.9321" y="1863.8886">instead of</text><text fill="#000000" font-family="Arial" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="51.3379" x="486.5317" y="1863.8886">runtime</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="286.3506" x="537.8696" y="1863.8886">. The abstraction (port signature) is still owned</text><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacing" textLength="399.2256" x="421.9321" y="1879.9872">by the high-level module, but the binding mechanism is different.</text></g><!--SRC=[pLVDSjis4BxpATR98H8dKXCxJHixzOmaIxPR9zR8olJGT1o8X2JK5C0XGAkQJ8wzzH7Qb-kJTF57WfBSfhsq9msftMyNtxUxM1waTCuuXQlByujf_-hT41uFZqQ7exFemFrZNnu-V_LoT5IzF9yCXs_XyOj1R_Jbi-hjzQJtzXoDHwDNNp-hNu_VJSPN-FhLuF2hVlrwCZn3qnSlZevUHf6yOpmd1Lb1Jf8xig0tQfDHA6YY25zaD32GIvAADUCBc9DCXlyWC2apDH9SlIKh2hs2aIoA55C8TKPpobFAamrSydjQI2Ouh9bQmZdbj629X0wS4KLWb8art4iOYBJXfjz7qHEuedC5agNq6AO5IPb299A5bgr-xwmTkPF0epz-_nM-lvnUNB-RxatZ4H09VPB2noW2gDmks6BPkQBtD8Ct8Yqp-fwt-gL4xgI4Ax5WITjuQZljhGdzY000FzpGufubz4Ty-jJ0l1BhRSZBBwunAqLO9YqUscp13GIN8ZDm-AH9cX7f7o-cqp4CCaQvgkBvb3ge5E-SUiXZYEFK4201sKy4JmggQ1o_vt7CLdb6LuX2DA5nh76uK1HcGYcn0Z7N79cOcj0u7XTYXXx7QAfVTi2T6lQ407S4PpaW7A51KQbC3OXIOQsXY4X6qqIkIGxDrAIpCFfaXinCgu71IhHBGGbCmH2AbfY9EKRqITVE17ryyVnzHGObzDilfeJsExMyWnNmN8ZFgQLUdcSiCKVorDK5PJ1CxziQg3eH7WsGAKLlpmjA5RPXjpU-VCzVlrxO74vF3OO3lCbf4i8uIGjDWti1u3ohPm2roR5zy_nsM1IY02OXBzWzHZq9Z0nL_eGJRSJf6YPKuWou7Oj2XSPnRCpd9K_SWNdQwdQxRJoPAWlk_4vSCUs9e4VAxNKkVI1qhWDu8-G2_myWge2J4dLg1Eowa9MrBXK4y2-goj4FdtPQkJUJgY067CNKvuKRjk04mPsEvfsRlZigNfSgBzMMU5YP3i79g26CXWsO_vUAR-HYbzH0nmUrwNHWkChL1YTCkZc0RqkS1gIceFilXTatO_cy82XNcMXWwAKaLxIengrfDdTxxhQRdLotLh1GB69Xd5JExX9dLHFhFrBBMpNpRoeGn_zCIisym_rCCGPYbGl9R0iAeVGTYZ-wTNBBV_KOB44x8hmXZ7T9EZCU-W4ldsJ7eN5XHVKXdtTnM4l4KWpvzBeTxwdHW2nFRfE_WBnMBTOtfxLoJr4Nzsm9xDhOEDrFeY2fmoxq6PBdij6tLeu2xilAXZRw-gpgyH5cf4NKmOESk_fTC_AHfkCd91SOnwZINXNx0lixvjPVxPwJtIieJ2FC5xC97f_giTt-wzfvKb-oZ4feCNtFAfeUjF7Fy5xpsqqr9FL-uvjJe9DTR3IhzLGnfmnxjLlctIsCQj-G5Y5qHk-wOZjbZl73d8wHqwhIv1xZ8D0CvTzd4cQtXHU5mqIlP1ukij86bn8WERWCpJQmh1UbbPc8Jkapyo4WORqa2i9jX5EQsZ6nDJXNUaJZJZSNnIhShNPNHJrIxQw8crCSzr6LELDoTraKFDl07HTh2MIczq1JmnNZVXkqbFZOKdVBjisDNXLTDqbzxcI9qqD_gDGKukcSzTJldiX9SkVzt9_LccyNIzJ9LQJXt2wfpSLIppbIC8diPHHhC8tiJpsCudZlxZWk6DOvrbjpzJosfHR7uIVEzVKOI9uNWYHBosJ7YQWxcHPpWeJgU-GOFfZhP6jmL4Od7w875lOQfrMKI1b-nkKYswn4aI-PNBMDNy-JJ7zM-eoLau_hvMeCAvE63Up6ppqZG984YUueqKao8YKYkAnmS2atT5iExqdF6BS_M6gg3yS7E6aslhuv_73GDKGoZFN0KjgaXzMEUge4aAq4PMSPxHYYT3zZkMrnXAdTu_S6h8XAbkQpsON3y0z53lXfr2ww-D6yDP7HTsVysz7loFgEwggJUcvOcle2ZuwaCHmCaDQboNnfFeKPjkF2avmAOBYVASGAJssmT98KFp2nEUBOrKqSTs6wHDg3aTHgIjBMsKl5iimEAqJ2jbNej3EoR3BwBySohAZkRwn93PAo-PmMs9_T2C_XEl1F]--></g></svg>